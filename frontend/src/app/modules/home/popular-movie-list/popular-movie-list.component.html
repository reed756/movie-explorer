<app-movie-list [data]="popularMovies()" [listTemplate]="listTemplate">
</app-movie-list>

<ng-template #listTemplate let-toggleConfig>
  <div class="list-header" [class.list-header]="!isMobile()">
    <h1>What's Popular</h1>
    @if (isMobile()) {
    <mat-select [value]="toggleConfig.selectedToggle" (selectionChange)="changeToggle($event)">
      @for (toggle of toggleConfig.toggles; track $index) {
      <mat-option [value]="toggle.value">{{toggle.name}}</mat-option>
      }
    </mat-select>
    } @else {
    <mat-button-toggle-group name="What's Popular" [value]="toggleConfig.selectedToggle">
      @for (toggle of toggleConfig.toggles; track $index) {
      <mat-button-toggle [value]="toggle.value" (change)="changeToggle($event)">{{toggle.name}}</mat-button-toggle>
      }
    </mat-button-toggle-group>
    }
  </div>
</ng-template>